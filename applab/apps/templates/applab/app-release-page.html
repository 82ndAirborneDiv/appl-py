{% extends 'applab/applab_base.html' %}
{% load staticfiles %}
{% block content %}

   <div class="app-display">

        <div class="container">
            <div class="row">
                <div class="col-lg-12 app-download-section">
                    <div class="row">
                        <div class="col-lg-2 col-md-2 col-sm-3 col-xs-5">
                            <img src="{{ appDetail.overview.icon.url }}" width="512" height="512" class="img-responsive">
                        </div>
                        <div class="col-lg-10 col-md-10 col-sm-9 col-xs-7">
                            <h1>{{appDetail.title}} <span class="icon-{{appDetail.platform}}"></span></h1>
                            <p class="version-text">Version {{ appDetail.releaseVersion }}
                                <br><i>Updated: {{ appDetail.currentRelease.timestamp}}</i></p>
                                <a href="{% url 'app_download' appDetail.platform appDetail.currentRelease.id %}" role="button" class="btn btn-success dl-btn">Download</a>
                            <button type="button" class="btn btn-default gh-btn">View on GitHub</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12 late-version">
                    <p>This app is out of date. To view the latest version please <a href="#">click here</a>.</p>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12 app-content-section">

                    <div id="cont1">
                    <div id="myCarousel1" class="carousel slide">

                        <!-- Carousel items -->
                        <div class="carousel-inner center-block">
                            {% for group in appDetail.screenshotGroups1 %}
                            <div class="item {% if forloop.counter0 = 0 %}  active {% endif %}">
                                <div class="row">
                                   {% for screen in group %}
                                       <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                         <a href="#myModal" data-toggle="modal" data-target="#myModal"><img src="{{ screen.screenshot.url }}" alt="Image" class="img-responsive center-block"></a>
                                       </div>
                                    {% endfor %}
                                </div>
                                <!--/row-->
                            </div>
                            <!--/item-->
                          {% endfor %}
                        </div>
                        <!--/carousel-inner--> <a class="left carousel-control" href="#myCarousel1" data-slide="prev">‹</a>

                        <a class="right carousel-control" href="#myCarousel1" data-slide="next">›</a>
                    </div>
                    <!--/myCarousel-->
                        </div>


                    <div id="cont4">
                    <div id="myCarousel4" class="carousel slide">

                        <!-- Carousel items -->
                        <div class="carousel-inner center-block">
                            {% for group in appDetail.screenshotGroups4 %}
                            <div class="item {% if forloop.counter0 = 0 %}  active {% endif %}">
                                <div class="row">
                                   {% for screen in group %}
                                       <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                         <a href="#myModal" data-toggle="modal" data-target="#myModal"><img src="{{ screen.screenshot.url }}" alt="Image" class="img-responsive center-block"></a>
                                       </div>
                                    {% endfor %}
                                </div>
                                <!--/row-->
                            </div>
                            <!--/item-->
                          {% endfor %}
                        </div>
                        <!--/carousel-inner--> <a class="left carousel-control" href="#myCarousel4" data-slide="prev">‹</a>

                        <a class="right carousel-control" href="#myCarousel4" data-slide="next">›</a>
                    </div>
                    <!--/myCarousel-->
                        </div>

                </div>
                <!-- Modal -->
                        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                              </div>
                              <div class="modal-body">
                                ...
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary">Save changes</button>
                              </div>
                            </div>
                          </div>
                        </div>

            </div>
            <br>
            <hr class="hr-cust">
            <div class="row">
                <div class="col-lg-12">

                    <h3>What’s New in Version {{ appDetail.releaseVersion }}</h3>
                    <ul>
                        <li>{{ appDetail.currentRelease.what_is_new }}</li>

                    </ul>
                    <hr class="hr-cust">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <h3>Description</h3>
                    <p>Welcome to AppLab. This is a tool for the IIU, CDC, and its public health partners to test and collaborate on innovative mobile applications. AppLab showcases iOS and Android apps.</p>

                    <p>Every app has a page which provides an overview / summary and will often include screenshots. The bottom of the overview page will display the
                    versions of the app currently available for download. Every app will have at least one version to download. For most users, we recommend
                    downloading the most recent version (top of the list). </p>
                    <hr class="hr-cust">

                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                      <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingOne">
                          <h4 class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                              Other Releases
                            </a>
                          </h4>
                        </div>
                        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                          <div class="panel-body">
                            <div class="row">
                                {% for previousRelease in appDetail.previousReleases %}
                                  <div class="col-lg-4 col-md-4">
                                      <strong><a href="{% url 'app_release_page' appDetail.platform previousRelease.id %}">{{appDetail.title}}</a></strong><br>
                                        <span class="version-released">Release {{previousRelease.major_version}}.{{previousRelease.minor_version}}.{{previousRelease.point_version}}.{{previousRelease.build_version}}<br>
                                        Released: {{previousRelease.timestamp}}</span>
                                        <br><br>
                                  </div>
                                {% endfor %}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>


        </div>
        <!-- /.container -->

    </div>
<script>
    var screenWidth= screen.width;
    var cont1= document.getElementById("cont1");
    var cont4= document.getElementById("cont4");
    cont1.style.display = "none";
    cont4.style.display = "none";
    //var cont2= document.getElementById("cont2");
    //cont2.style.display = "none";


    if(screenWidth> 800)
    {
        cont4.style.display = "block";

    }
    else if (screenWidth<400)
    {
        cont1.style.display = "block";

    }

</script>
{% endblock %}
